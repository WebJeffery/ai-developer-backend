# Python ç¯å¢ƒæ­å»ºæŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨ macOS ç³»ç»Ÿä¸Šæ­å»ºå®Œæ•´çš„ Python å¼€å‘ç¯å¢ƒã€‚

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿè¦æ±‚](#ç³»ç»Ÿè¦æ±‚)
- [å®‰è£… Python](#å®‰è£…-python)
- [é…ç½®è™šæ‹Ÿç¯å¢ƒ](#é…ç½®è™šæ‹Ÿç¯å¢ƒ)
- [å®‰è£…é¡¹ç›®ä¾èµ–](#å®‰è£…é¡¹ç›®ä¾èµ–)
- [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ğŸ”§ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šmacOS 10.15+
- **Python ç‰ˆæœ¬**ï¼šPython 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ¨è**ï¼šPython 3.12+

## ğŸ“¦ å®‰è£… Python

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Homebrew å®‰è£…ï¼ˆæ¨èï¼‰

Homebrew æ˜¯ macOS ä¸Šæœ€æµè¡Œçš„åŒ…ç®¡ç†å™¨ã€‚

#### 1. å®‰è£… Homebrew

```bash
# æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

#### 2. å®‰è£… Python 3.12

```bash
# å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Python
brew install python@3.12

# éªŒè¯å®‰è£…
python3 --version
# åº”è¯¥è¾“å‡º: Python 3.12.x
```

#### 3. æ£€æŸ¥å®‰è£…ä½ç½®

```bash
which python3
# é€šå¸¸è¾“å‡º: /opt/homebrew/bin/python3
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ pyenv ç®¡ç†å¤šä¸ªç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨éœ€è¦ç®¡ç†å¤šä¸ª Python ç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨ pyenvã€‚

```bash
# 1. å®‰è£… pyenv
brew install pyenv

# 2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆæ·»åŠ åˆ° ~/.zshrcï¼‰
echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.zshrc
echo 'command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.zshrc
echo 'eval "$(pyenv init -)"' >> ~/.zshrc

# 3. é‡æ–°åŠ è½½é…ç½®
source ~/.zshrc

# 4. å®‰è£… Python 3.12
pyenv install 3.12.0

# 5. è®¾ç½®ä¸ºå…¨å±€ç‰ˆæœ¬
pyenv global 3.12.0

# 6. éªŒè¯
python --version
```

### æ–¹æ³•ä¸‰ï¼šä»å®˜ç½‘ä¸‹è½½å®‰è£…

è®¿é—® [Python å®˜ç½‘](https://www.python.org/downloads/) ä¸‹è½½ macOS å®‰è£…åŒ…ã€‚

## ğŸ› ï¸ é…ç½®è™šæ‹Ÿç¯å¢ƒ

### ä»€ä¹ˆæ˜¯è™šæ‹Ÿç¯å¢ƒï¼Ÿè™šæ‹Ÿç¯å¢ƒçš„ä½œç”¨

è™šæ‹Ÿç¯å¢ƒï¼ˆVirtual Environmentï¼‰æ˜¯ Python æä¾›çš„ä¸€ç§å·¥å…·ï¼Œç”¨äºä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„ Python è¿è¡Œç¯å¢ƒã€‚æ¯ä¸ªè™šæ‹Ÿç¯å¢ƒéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„åŒ…ç®¡ç†ç©ºé—´ï¼Œå¯ä»¥ç‹¬ç«‹å®‰è£…ã€å‡çº§æˆ–å¸è½½ç¬¬ä¸‰æ–¹åº“ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¨å±€çš„ Python ç¯å¢ƒï¼Œäº¦ä¸ä¼šå½±å“åˆ°å…¶ä»–é¡¹ç›®ã€‚

#### ä½œç”¨å’Œä¼˜ç‚¹

- **ä¾èµ–éš”ç¦»**ï¼šä¸åŒé¡¹ç›®å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œäº’ä¸å¹²æ‰°ï¼Œé¿å…â€œç‰ˆæœ¬åœ°ç‹±â€ã€‚
- **é™ä½é£é™©**ï¼šä¸ä¼šæ±¡æŸ“å…¨å±€ Python ç¯å¢ƒï¼Œé™ä½æ“ä½œå¤±è¯¯å¸¦æ¥çš„ç³»ç»Ÿæ··ä¹±ï¼›
- **ç®€åŒ–éƒ¨ç½²**ï¼šç›´æ¥æ‰“åŒ…/å¤åˆ¶é¡¹ç›®ç›®å½•ï¼ˆå«è™šæ‹Ÿç¯å¢ƒåŠä¾èµ–ï¼‰ï¼Œå³å¯ä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨æˆ–ä»–äººç”µè„‘ï¼›
- **å¿…å¤‡èƒ½åŠ›**ï¼šå‡ ä¹æ‰€æœ‰ Python é¡¹ç›®å¼€å‘éƒ½å»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒã€‚

#### ä¸¾ä¾‹è¯´æ˜

ä¾‹å¦‚ï¼šä½ æœ‰ä¸¤ä¸ªé¡¹ç›®â€”â€”
- **é¡¹ç›®A** éœ€è¦ `Django==3.2`
- **é¡¹ç›®B** éœ€è¦ `Django==4.0`

å¦‚æœä¸ç”¨è™šæ‹Ÿç¯å¢ƒï¼Œå…¨å±€åªèƒ½å®‰è£…ä¸€ä¸ª Django ç‰ˆæœ¬ï¼Œé¡¹ç›®åˆ‡æ¢æ—¶å¾ˆå®¹æ˜“æŠ¥é”™ã€‚
å¦‚æœä¸ºæ¯ä¸ªé¡¹ç›®å»ºç«‹ç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒï¼Œå„è‡ªå®‰è£…å„è‡ªéœ€è¦çš„ Django ç‰ˆæœ¬ï¼Œä¸¤è€…äº’ä¸å½±å“ã€‚

#### å¸¸è§è™šæ‹Ÿç¯å¢ƒå·¥å…·

- `venv`ï¼ˆPython3å†…ç½®ï¼Œæ¨èä½¿ç”¨ï¼‰
- `virtualenv`
- `conda`ï¼ˆAnaconda ç¯å¢ƒï¼‰

> âœ… **å¼€å‘ä»»ä½• Python é¡¹ç›®å‰ï¼Œå»ºè®®ä¼˜å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚**


### 1. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd /Users/zhifeixie/my-github/ai-developer-backend/backend
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# ä½¿ç”¨ python3 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv

# è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºåœ¨ venv ç›®å½•
```

> **å‘½ä»¤è§£æ**ï¼š

- `python3 -m venv venv` è¿™æ¡å‘½ä»¤å«ä¹‰å¦‚ä¸‹ï¼š

    - `python3`ï¼šè°ƒç”¨å½“å‰ç³»ç»Ÿçš„ Python 3 è§£é‡Šå™¨ã€‚
    - `-m venv`ï¼šä½¿ç”¨ Python å†…ç½®çš„ `venv` æ¨¡å—ï¼ˆç”¨äºåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼‰ã€‚
    - `venv`ï¼šæŒ‡å®šè™šæ‹Ÿç¯å¢ƒçš„ç›®å½•åç§°ï¼Œè¿™é‡Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º `venv` çš„æ–‡ä»¶å¤¹ã€‚

- æ‰§è¡Œåï¼Œä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª `venv` æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«ç‹¬ç«‹çš„ Python è§£é‡Šå™¨åŠåŒ…ç®¡ç†å·¥å…·ï¼Œæ‰€æœ‰åç»­ä¾èµ–åŒ…éƒ½å°†å®‰è£…åœ¨æ­¤è™šæ‹Ÿç¯å¢ƒè·¯å¾„ä¸‹ï¼Œä¸å½±å“å…¨å±€ Python é…ç½®ã€‚

> **ä¸ºä»€ä¹ˆè¦æŠŠè™šæ‹Ÿç¯å¢ƒç›®å½•å‘½åä¸º `venv`ï¼Ÿ**
>
> è¿™æ˜¯ä¸šç•Œçº¦å®šä¿—æˆçš„ä¹ æƒ¯ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰åç§°ï¼Œæ¯”å¦‚ `env`ã€`.venv`ï¼Œä½†æ¨èä½¿ç”¨ `venv`ï¼Œä¾¿äºåä½œå’Œè¯†åˆ«ã€‚


### 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```bash
# macOS/Linux
source venv/bin/activate

# æ¿€æ´»åï¼Œç»ˆç«¯æç¤ºç¬¦ä¼šæ˜¾ç¤º (venv)
```

> **å‘½ä»¤è§£æ**ï¼š
>
> - `source venv/bin/activate` è¿™ä¸€å‘½ä»¤ä½œç”¨æ˜¯æ¿€æ´»åˆšåˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒã€‚
> - æ¿€æ´»åï¼Œç»ˆç«¯çš„æç¤ºç¬¦å‰ä¼šå‡ºç° `(venv)`ï¼Œè¡¨ç¤ºå½“å‰åœ¨è¯¥è™šæ‹Ÿç¯å¢ƒä¸‹è¿è¡Œ Pythonã€‚
> - æ­¤æ—¶ä½ å®‰è£…çš„æ‰€æœ‰ Python åŒ…ã€ä½¿ç”¨çš„ Python è§£é‡Šå™¨ç‰ˆæœ¬éƒ½ä»…å½±å“å½“å‰é¡¹ç›®ç›®å½•ï¼Œä¸ä¼šå½±å“ç³»ç»Ÿå…¶å®ƒé¡¹ç›®æˆ–å…¨å±€è®¾ç½®ã€‚


### 4. éªŒè¯è™šæ‹Ÿç¯å¢ƒ

```bash
# æŸ¥çœ‹ Python è§£é‡Šå™¨ä½ç½®
which python
# åº”è¯¥è¾“å‡º: /Users/zhifeixie/.../venv/bin/python

# æŸ¥çœ‹ Python ç‰ˆæœ¬
python --version
```

### 5. é€€å‡ºè™šæ‹Ÿç¯å¢ƒ

```bash
# å®Œæˆå¼€å‘åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤é€€å‡º
deactivate
```

## ğŸ“š å®‰è£…é¡¹ç›®ä¾èµ–

### 1. å‡çº§ pip

```bash
# pip æ˜¯ Python çš„åŒ…ç®¡ç†å·¥å…·
pip install --upgrade pip
```

### 2. å®‰è£…é¡¹ç›®ä¾èµ–

```bash
# å®‰è£… requirements.txt ä¸­çš„æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt
```

### 3. éªŒè¯å…³é”®ä¾èµ–

```bash
# æ£€æŸ¥ FastAPI æ˜¯å¦å®‰è£…æˆåŠŸ
python -c "import fastapi; print(f'FastAPI ç‰ˆæœ¬: {fastapi.__version__}')"

# æ£€æŸ¥ SQLAlchemy æ˜¯å¦å®‰è£…æˆåŠŸ
python -c "import sqlalchemy; print(f'SQLAlchemy ç‰ˆæœ¬: {sqlalchemy.__version__}')"
```

## âœ… éªŒè¯å®‰è£…

### å®Œæ•´æ£€æŸ¥è„šæœ¬

```bash
# 1. æ£€æŸ¥ Python ç‰ˆæœ¬
python --version
# è¾“å‡º: Python 3.12.x

# 2. æ£€æŸ¥ pip ç‰ˆæœ¬
pip --version
# è¾“å‡º: pip 24.0 from ...

# 3. æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
which python
# åº”è¯¥åŒ…å« venv

# 4. åˆ—å‡ºå·²å®‰è£…çš„åŒ…
pip list
# åº”è¯¥çœ‹åˆ° fastapi, sqlalchemy, uvicorn ç­‰
```

## ğŸ¯ å¼€å‘ç¯å¢ƒé…ç½®æ¸…å•

å®Œæˆä»¥ä¸‹æ‰€æœ‰é¡¹ï¼Œæ‚¨çš„å¼€å‘ç¯å¢ƒå°±æ­å»ºå¥½äº†ï¼

- [ ] Python 3.10+ å·²å®‰è£…
- [ ] è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºå¹¶æ¿€æ´»
- [ ] é¡¹ç›®ä¾èµ–å·²å®‰è£…
- [ ] å¯ä»¥å¯¼å…¥ FastAPI æ¨¡å—
- [ ] å¯ä»¥å¯¼å…¥ SQLAlchemy æ¨¡å—

## ğŸ” å¸¸è§é—®é¢˜

### 1. æç¤º "python: command not found"

**é—®é¢˜åŸå› **ï¼šç³»ç»Ÿæ‰¾ä¸åˆ° Python è§£é‡Šå™¨

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æ˜¯å¦å®‰è£…äº† Python
which python3

# å¦‚æœæ²¡æœ‰ï¼Œå®‰è£… Python
brew install python@3.12

# æ·»åŠ åˆ° PATHï¼ˆå¦‚æœéœ€è¦ï¼‰
echo 'export PATH="/opt/homebrew/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

### 2. è™šæ‹Ÿç¯å¢ƒä¸­è¿˜æ˜¯ä½¿ç”¨äº†ç³»ç»Ÿ Python

**é—®é¢˜åŸå› **ï¼šè™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¤±è´¥æˆ–æœªæ¿€æ´»

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# åˆ é™¤æ—§è™šæ‹Ÿç¯å¢ƒ
rm -rf venv

# é‡æ–°åˆ›å»º
python3 -m venv venv

# æ¿€æ´»ï¼ˆå¾ˆé‡è¦ï¼ï¼‰
source venv/bin/activate

# éªŒè¯
which python
```

### 3. å®‰è£…ä¾èµ–åŒ…é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨å›½å†…é•œåƒæº

```bash
# ä¸´æ—¶ä½¿ç”¨æ¸…åé•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# æ°¸ä¹…é…ç½®ï¼ˆæ¨èï¼‰
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

### 4. æç¤º "This application requires Python 3.10 or later"

**é—®é¢˜åŸå› **ï¼šPython ç‰ˆæœ¬è¿‡ä½

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥å½“å‰ç‰ˆæœ¬
python3 --version

# å¦‚æœç‰ˆæœ¬ä½äº 3.10ï¼Œéœ€è¦å‡çº§
brew install python@3.12
```

### 5. å¤šä¸ª Python ç‰ˆæœ¬å¦‚ä½•é€‰æ‹©

**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ pyenv ç®¡ç†å¤šä¸ªç‰ˆæœ¬

```bash
# æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬
pyenv versions

# åˆ‡æ¢å…¨å±€ç‰ˆæœ¬
pyenv global 3.12.0

# æˆ–ä¸ºå½“å‰é¡¹ç›®è®¾ç½®ç‰ˆæœ¬
pyenv local 3.10.13
```

## æ€»ç»“

ç®€å•æµç¨‹å¦‚ä¸‹ï¼š
1. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
2. ï¼ˆå¯é€‰ï¼‰å‡çº§è™šæ‹Ÿç¯å¢ƒå†…çš„ pip
3. å®‰è£…é¡¹ç›®ä¾èµ–

ç¤ºä¾‹ï¼š
```bash
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip  # å‡çº§çš„æ˜¯ venv ç›®å½•ä¸‹çš„ pip
pip install -r requirements.txt
```

## ğŸ’¡ å°è´´å£«

1. **å§‹ç»ˆä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ**ï¼šé¿å…æ±¡æŸ“ç³»ç»Ÿ Python ç¯å¢ƒ
2. **å®šæœŸæ›´æ–°ä¾èµ–**ï¼š`pip install --upgrade package-name`
3. **å¤‡ä»½ requirements.txt**ï¼šè®°å½•å½“å‰é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–
4. **ä½¿ç”¨ .gitignore**ï¼šå¿½ç•¥ venv ç›®å½•ï¼Œä¸è¦æäº¤åˆ° Git




